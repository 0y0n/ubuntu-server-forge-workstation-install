# =============================================================================
# all.yml  —  variables shared across every host
# Pin versions here; override per-group or per-host as needed.
# =============================================================================

# ── paths ────────────────────────────────────────────────────────────────────
forge_home:           "{{ hostvars['remote-workstation']['ansible_env']['HOME'] }}"
forge_repo:           "{{ forge_home }}/forge"
forge_ssh_key:        "{{ forge_home }}/.ssh/forge_vm"   # generated by kvm role
forge_vm_images:      "{{ forge_home }}/forge/vm-images"

# ── SSH key for VM access ────────────────────────────────────────────────────
forge_ssh_pub:        "{{ forge_ssh_key }}.pub"

# ── OS image for KVM guests (cloud-init based) ──────────────────────────────
ubuntu_cloud_image_url: "https://cloud-images.ubuntu.com/plucky/current/plucky-server-cloudimg-amd64.img"

# ── version pins  (update these to bump) ────────────────────────────────────
# Rust
rustup_url:           "https://sh.rustup.rs"

# Bazel
bazel_version:        "7.1.1"

# Node (for tooling that needs it)
node_version:         "20"

# Helm
helm_version:         "v3.14.4"

# k3s — latest stable via install script
k3s_version:          "latest"

# Trivy
trivy_version:        "latest"

# Gitleaks
gitleaks_version:     "latest"

# HashiCorp Vault
vault_version:        "2.6.0"          # Vault agent / CLI (Enterprise-free)

# Traefik
traefik_version:      "v2.11.2"

# OpenCode
opencode_version:     "latest"         # npm latest or explicit tag

# Ollama
ollama_version:       "latest"

# LiteLLM
litellm_version:      "latest"         # pip latest

# Redis
redis_version:        "7"

# operating system version
system_requirements:
  distro: "Ubuntu"
  version: "25.10"
